<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:pc="http://bee32.com/plover/core"
    xmlns:sem="http://bee32.com/sem/functions">

<ui:composition template="/template/newsite.xhtml">

    <ui:define name="title">${meta.name}</ui:define>

    <ui:define name="styles">
        <link rel="stylesheet" type="text/css" href="${location.LIB_3RDPARTY}/dataTables-1.7/media/css/demo_page.css" />
        <link rel="stylesheet" type="text/css" href="${location.LIB_3RDPARTY}/dataTables-1.7/media/css/demo_table.css" />

        <ui:insert name="styles.1" />
        <ui:insert name="styles.user" />
    </ui:define>

    <ui:define name="content">
        <ui:insert name="commands">
            <div>
                <button id='createForm'>添加新的${meta.name}</button>
            </div>
        </ui:insert>

        <ui:insert name="table" />

        <ui:insert name="content.1"/>
    </ui:define>

    <ui:define name="scripts">
        <script type="text/javascript" src="${location.LIB_3RDPARTY}/jsTree.v.1.0rc2/jquery.jstree.js"></script>

        <script type="text/javascript" src="${location.LIB_3RDPARTY}/dataTables-1.7/media/js/jquery.dataTables.js"></script>
        <script type="text/javascript" src="${location.LIB_JS}/ex/datatable.js"></script>

        <f:verbatim>&lt;script type="text/javascript"&gt;&lt;!-- /* &lt;![CDATA[ */
        </f:verbatim>
            document.parameterMap = <f:verbatim>${parameterMap}</f:verbatim>;
        <f:verbatim>
            /* ]]&gt; */ -->&lt;/script&gt;</f:verbatim>

        <script type="text/javascript">
            $(document).ready(function() {
                var oTable1 = $("#table1").dataTable_SEM({
                    "bServerSide" : true,
                    "sAjaxSource" : "data.do"
                });
            });

            $('#createForm').click(function() {
                location.href = 'createForm.do';
            });
        </script>

        <ui:insert name="scripts.1" />
        <ui:insert name="scripts.user" />
    </ui:define>

</ui:composition>
</html>
