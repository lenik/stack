<ui:component xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:p="http://primefaces.org/ui">
    <c:if test="${style == 'panel'}">
        <p:fieldset legend="${legend}">
            <c:if test="${orientation == 'lr'}">
                <table>
                    <tr>
                        <td valign="top">
                            <h:panelGroup id="indexPanel">
                                <ui:insert name="indexForm" />
                            </h:panelGroup>
                        </td>
                        <td />
                        <td valign="top">
                            <h:panelGroup id="editPanel">
                                <ui:insert name="editForm" />
                            </h:panelGroup>
                        </td>
                    </tr>
                </table>
            </c:if>
            <c:if test="${orientation == 'td'}">
                <h:panelGrid id="panelGrid" columns="1">
                    <h:panelGroup id="indexPanel">
                        <ui:insert name="indexForm" />
                    </h:panelGroup>
                    <p:separator />
                    <h:panelGroup id="editPanel">
                        <ui:insert name="editForm" />
                    </h:panelGroup>
                </h:panelGrid>
            </c:if>
        </p:fieldset>
    </c:if>

    <c:if test="${style == 'indexPanel'}">
        <p:fieldset legend="${legend}">
            <h:panelGroup id="indexPanel">
                <ui:insert name="indexForm" />
            </h:panelGroup>
        </p:fieldset>
    </c:if>

    <c:if test="${style == 'editDialog'}">
        <ui:insert name="editDialog" />
    </c:if>

    <c:if test="${style == 'dialog'}">
        <ui:insert name="indexDialog" />
        <ui:insert name="editDialog" />
    </c:if>
</ui:component>