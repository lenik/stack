<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:p="http://primefaces.org/ui"
    xmlns:icsf="http://java.sun.com/jsf/composite/3/7" >
<h:head id="head" volatile="__tips, __status">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

    <title>
        <ui:insert name="title">无标题</ui:insert>
    </title>

    <ui:insert name="styles">
        <ui:insert name="styles.user" />
    </ui:insert>

    <ui:remove>
        <!-- ************************************************************ -->
        <!-- 使用 Primefaces 内置的 jQuery。                                -->
        <!-- 其中：                                                        -->
        <!--  Primefaces 2.X 内置为 jQuery-1.4，并且默认开启 jQuery.noConflict -->
        <!--  Primefaces 3.X 内置为 jQuery-1.5，并且默认关闭 jQuery.noConflict -->
        <!-- ************************************************************ -->
        <script language="javascript" src="http://code.jquery.com/jquery-1.4.4.js"></script>
        <script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
    </ui:remove>

    <script language="javascript">
        document.contextPath = "${location.WEB_APP}";
        document.WEB_APP = "${location.WEB_APP}";
    </script>

    <style type="text/css">
        .logoBox {
            border-left: solid #cccccc 5px;
            border-right: solid #cccccc 5px;
            border-top: solid #cccccc 3px;
            border-bottom: solid #cccccc 3px;
        }
        .invert {
            color: #eeeeee;
            background: black;
        }
        .invert :link, .invert :visited {
            color: #cccccc;
        }
    </style>

    <link rel="stylesheet" type="text/css" href="${location.WEB_APP}/site/frame.css" />

    <ui:insert name="scripts.head">
    </ui:insert>
</h:head>

<h:body>

    <div id="logoDiv" style="position: fixed; z-index: 100; bottom: 30px; right: 0px" >
        <div style="width: 200px" align="center">
            <a href="${location.WEB_APP}/site/about.html">
                <img class="logoBox" src="${site.logoHref}" width="120" alt="LOGO" title="B-32 VER 0.3.18" />
            </a>
        </div>
    </div>

    <ui:insert name="login">
        <icsf:loginPanel xpc="true" style="none" />
    </ui:insert>

    <div>
        <ui:insert name="menu">
            <f:verbatim>#{mainMenu.superfishHtml}</f:verbatim>
        </ui:insert>
        <div style="clear: both" />
    </div>

    <ui:insert name="pageTitle">
        <div id="pageTitle">
            <h2>
                <ui:insert name="title" />
            </h2>
            <hr />
        </div>
    </ui:insert>

    <ui:insert name="pageHeader" />

    <ui:insert name="content">正在构建中……</ui:insert>

    <ui:insert name="pageFooter">
        <div style="clear: both; border-top: solid 1px #808080; border-bottom: solid 1px #eeeeee; background: #eeeeee;">
            <div style=" padding: 0.5em;">
                ■ 当前用户：
                <ui:repeat var="node" value="#{sessionPerson.chain}">
                    <span style="display">#{node}</span>
                </ui:repeat>
                （<a id="aQuit" name="aQuit" href="#">安全退出</a>）
            </div>
            <div style=" padding: 0.5em;">
                <ui:insert name="pageStatus" />
            </div>
        </div>
        <div style="height: 5px; background: #aaaaaa; border-top: solid 1px #808080" />
        <div class="invert" style="padding: 0.2em 0.5em">
            <div style="display: inline">■ 版权所有©2010-2011 海宁市智恒软件有限公司</div>
            | <a href="${location.WEB_APP}/site/contact.jsf">联系信息</a>
        </div>
    </ui:insert>

    <ui:insert name="scripts.frame">
        <script language="javascript" src="${location.LIB_JS}/jquery.sha1.js"></script>
        <script language="javascript" src="${location.LIB_JS}/jquery.ajaxex.js"></script>

        <ui:insert name="scripts.superfish">
            <link rel="stylesheet" type="text/css" media="screen"
                href="${location.LIB_3RDPARTY}/superfish-1.4.8/css/superfish.css" />

            <script language="javascript" src="${location.LIB_3RDPARTY}/superfish-1.4.8/js/hoverIntent.js"></script>
            <script language="javascript" src="${location.LIB_3RDPARTY}/superfish-1.4.8/js/superfish.js"></script>
        </ui:insert>
    </ui:insert>

    <ui:insert name="scripts.jquery.ui">
        <c:set var="JQUERY_UI" value="${location.LIB_3RDPARTY}/jquery-ui-1.8.2.custom/development-bundle" />

        <ui:remove>
            <!-- ************************************************************ -->
            <!--         使用下面的 dummy 来强制引入 primefaces 的库脚本。          -->
            <!-- ************************************************************ -->
            <link type="text/css" rel="stylesheet" href="${JQUERY_UI}/themes/base/jquery.ui.all.css" />
            <script language="javascript" src="${JQUERY_UI}/external/jquery.bgiframe-2.1.1.js"></script>
            <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.core.js"></script>
            <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.widget.js"></script>
            <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.mouse.js"></script>
            <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.button.js"></script>
            <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.dialog.js"></script>
            <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.autocomplete.js"></script>
            <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.datepicker.js"></script>
        </ui:remove>
        <h:form id="dummy" style="display: none;">
            A Dummy Form.
            <p:dataTable />
            <p:column />
            <p:commandLink />
            <p:commandButton />
            <p:dialog />
            <p:fileUpload />
            <p:tabView rendered="false">
                <p:tab title="" />
            </p:tabView>
            <p:message for="dummy" />
            <f:ajax event="click" />
        </h:form>

        <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.draggable.js"></script>
        <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.position.js"></script>
        <script language="javascript" src="${JQUERY_UI}/ui/jquery.ui.resizable.js"></script>
        <script language="javascript" src="${JQUERY_UI}/ui/jquery.effects.core.js"></script>
        <script language="javascript" src="${JQUERY_UI}/ui/i18n/jquery.ui.datepicker-zh-CN.js"></script>

        <ui:insert name="pre-scripts">
            <ui:insert name="pre-scripts.1" />
            <ui:insert name="pre-scripts.user" />
        </ui:insert>

        <script language="javascript" src="${location.WEB_APP}/site/frame.js"></script>

        <ui:insert name="scripts.jquery.ui.user" />
    </ui:insert>

    <ui:insert name="scripts">
        <ui:insert name="scripts.1" />
        <ui:insert name="scripts.user" />
    </ui:insert>

</h:body>
</html>
