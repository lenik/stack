<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:p="http://primefaces.org/ui"
    template="/template/custom-rich.xhtml" xmlns:t="http://myfaces.apache.org/tomahawk">

    <ui:define name="title">修改密码</ui:define>

    <ui:define name="content">
        <h:form id="modifyPasswordForm">
            <p:panel header="修改密码">
                <t:panelGrid columns="2" columnClasses="field-label, field-content">

                    <h:outputLabel value="当前用户：" />
                    <ui:repeat var="node" value="#{sessionPerson.chain}">
                        <span style="">#{node}</span>
                    </ui:repeat>

                    <h:outputLabel for="oldPassword" value="旧密码：" />
                    <h:panelGroup>
                        <p:inputText id="oldPassword" label="旧密码" type="password" value="#{modifyPasswordBean.oldPassword}" />
                    </h:panelGroup>

                    <h:outputLabel for="newPassword" value="新密码：" />
                    <h:panelGroup>
                        <p:inputText id="newPassword" label="新密码" type="password" value="#{modifyPasswordBean.newPassword}" />
                    </h:panelGroup>

                    <h:outputLabel for="passwordConfirm" value="新密码确认：" />
                    <h:panelGroup>
                        <p:inputText id="passwordConfirm" label="新密码确认" type="password"
                            value="#{modifyPasswordBean.passwordConfirm}" />
                    </h:panelGroup>

                    <t:panelGroup colspan="2">
                        <hr />
                    </t:panelGroup>

                    <t:panelGroup colspan="2">
                        <p:commandButton value="修改" update="modifyPasswordForm" actionListener="#{modifyPasswordBean.modify}" />
                    </t:panelGroup>
                </t:panelGrid>
            </p:panel>
        </h:form>
    </ui:define>
</ui:composition>
