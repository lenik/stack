<ui:composition template="/template/simple-entity.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui" xmlns:t="http://myfaces.apache.org/tomahawk" xmlns:fr="http://java.sun.com/jsf/composite/frame"
    xmlns:sem="http://java.sun.com/jsf/composite/3/15" xmlns:pf="http://bee32.com/plover/faces">

    <ui:param name="title" value="付款单列表" />
    <ui:param name="bean" value="${paymentNoteListAdminBean}" />
    <ui:param name="obj" value="${bean.openedObject}" />
    <ui:param name="monetary" value="#{monetaryDictsBean}" />
    <ui:param name="thing" value="#{thingDictsBean}" />
    <ui:param name="creatable" value="false" />
    <ui:param name="editable" value="false" />
    <ui:param name="deletable" value="false" />
    <ui:param name="readable" value="false" />


    <ui:define name="dataColumns">
        <p:column headerText="创建时间" sortBy="${entry.createdDate}">
            <h:outputText value="${entry.createdDate}">
                <f:convertDateTime pattern="yyyy-MM-dd" timeZone="Asia/Shanghai" />
            </h:outputText>
        </p:column>
        <p:column headerText="经办人" sortBy="#{entry.operator}">
            <h:outputText value="#{entry.operator.displayName}" />
        </p:column>
        <p:column headerText="发生时间" sortBy="${entry.beginTime}">
            <h:outputText value="${entry.beginTime}">
                <f:convertDateTime pattern="yyyy-MM-dd" timeZone="Asia/Shanghai" />
            </h:outputText>
        </p:column>
        <p:column headerText="销售机会" sortBy="#{entry.chance}">
            <h:outputText value="#{entry.chance.subject}" />
        </p:column>
        <p:column headerText="业务对像" sortBy="#{entry.party}">
            <h:outputText value="#{entry.party.displayName}" />
        </p:column>
        <p:column headerText="币种">
		<h:outputText value="#{entry.value.currencyCode}" />
        </p:column>
        <p:column headerText="金额" styleClass="f-right">
		<p:commandLink onclick="return _open('#{location.WEB_APP}/3/15/3/3/paymentNote/index-rich.jsf?id=#{entry.id}');">
			<h:outputText value="#{entry.value.value}" >
                    <f:convertNumber pattern="#0.00"/>
                </h:outputText>
		</p:commandLink>
        </p:column>
        <p:column headerText="简要" >
            <p:commandLink onclick="return _open('#{location.WEB_APP}/3/15/3/3/paymentNote/index-rich.jsf?id=#{entry.id}');">
                <h:outputText value="${entry.label}" />
            </p:commandLink>
        </p:column>
        <p:column headerText="付款人" sortBy="#{entry.whoPay}">
            <h:outputText value="#{entry.whoPay.displayName}" />
        </p:column>
    </ui:define>
</ui:composition>
