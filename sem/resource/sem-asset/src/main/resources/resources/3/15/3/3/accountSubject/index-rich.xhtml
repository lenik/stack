<ui:composition template="/template/simple-tree-entity.xhtml" xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:p="http://primefaces.org/ui" xmlns:t="http://myfaces.apache.org/tomahawk">

    <ui:param name="title" value="会计科目管理" />
    <ui:param name="bean" value="#{accountSubjectAdminBean}" />

    <ui:define name="dataColumns">
        <p:column>
            <f:facet name="header">编号</f:facet>
            <h:outputText value="#{entry.name}" />
        </p:column>
        <p:column>
            <f:facet name="header">会计科目名称</f:facet>
            <h:outputText value="#{entry.label}" />
        </p:column>
    </ui:define>

    <ui:define name="editDialog">
        <p:dialog header="编辑会计科目" widgetVar="editDialog" modal="true" dynamic="${viewConfig.dynamicDialog}">
            <h:form id="form">
                <h:panelGrid columns="2">
                    <h:outputLabel value="上级科目" />
                    <h:panelGroup>
                        <h:outputText id="parentSubjectCode" value="#{bean.parentSubject.name}" />
                        <p:inputText id="parentSubject" value="#{bean.parentSubject.label}" disabled="true" />
                        <p:commandButton value="..." oncomplete="chooseParentSubjectDialog.show();" />
                    </h:panelGroup>

                    <h:outputLabel value="编号" />
                    <p:inputText id="name" value="#{obj.name}" />

                    <h:outputLabel value="科目名称" />
                    <p:inputText id="label" value="#{obj.label}" />
                </h:panelGrid>

                <div align="right">
                    <p:commandButton id="save-validated" value="保存" actionListener="#{bean.save}"
                        update=":mainForm, " oncomplete="editDialog.hide();" />
                    <p:commandButton id="cancel" value="取消" oncomplete="editDialog.hide();" />
                </div>
            </h:form>
        </p:dialog>
    </ui:define>

    <ui:define name="dialogs">
        <sem:chooseAccountSubjectDialog />
    </ui:define>
</ui:composition>
