<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core" xmlns:fmt="http://java.sun.com/jsp/jstl/fmt"
    xmlns:fn="http://java.sun.com/jsp/jstl/functions" xmlns:pc="http://bee32.com/plover/core"
    xmlns:sem="http://bee32.com/sem/functions" xmlns:p="http://primefaces.org/ui"
    xmlns:t="http://myfaces.apache.org/tomahawk">
<ui:composition template="/template/primefaces.xhtml">

    <ui:define name="title">物料管理</ui:define>

    <ui:define name="content">

        <h:form id="mainForm">
            <t:panelGrid columns="2">
                <p:treeTable value="#{materialExAdminBean.root}"
                    var="category"
                    selectionMode="single"
                    selection="#{materialExAdminBean.selectedMaterialCategoryNode}"
                    scrollable="true" scrollHeight="480"
                    scrollWidth="250">

                    <p:ajax event="select" listener="#{materialExAdminBean.onCategorySelect}"
                        update="mainForm:materials" />

                    <p:column headerText="名称" style="width:150px;">
                        <h:outputText value="#{category.name}" />
                    </p:column>

                    <p:column headerText="物料数" style="width:50px;">
                        <h:outputText
                            value="#{category.materialCount}" />
                    </p:column>
                </p:treeTable>

                <p:dataTable
                    id="materials"
                    value="#{materialExAdminBean.materials}"
                    var="material"
                    scrollable="true" scrollHeight="480"
                    scrollWidth="600">

                    <p:column headerText="名称">
                        <h:outputText value="#{material.name}" />
                    </p:column>


                </p:dataTable>
            </t:panelGrid>
        </h:form>

    </ui:define>
</ui:composition>
</html>