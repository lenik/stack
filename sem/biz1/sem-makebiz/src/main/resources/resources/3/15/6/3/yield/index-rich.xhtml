<ui:composition template="/template/custom-rich.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core" xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:p="http://primefaces.org/ui" xmlns:t="http://myfaces.apache.org/tomahawk" xmlns:fr="http://java.sun.com/jsf/composite/frame"
    xmlns:sem="http://java.sun.com/jsf/composite/3/15">

    <ui:param name="title" value="生产任务" />
    <ui:param name="bean" value="#{yieldProgres}" />

    <ui:define name="content">
        <div>
            <h:form id="mainForm">

                <t:div id="targetProject">
                    <p:fieldset legend="选择销售机会" toggleable="true" toggleSpeed="100">
                        <t:panelGrid columns="4">
                            <h:outputText value="选择需要查询的销售机会：" />
                            <p:inputText value="${bean.project.subject}" id="selectedProject" />
                            <p:commandButton value="..." onclick="chooseChanceDialog.show();" />
                        </t:panelGrid>
                    </p:fieldset>
                </t:div>

                <t:div id="yieldGrid"></t:div>

            </h:form>

            <sem:chooseChanceDialog id="chooseProjectDialog" target="${bean.project}"
                update=":mainForm:selectedProject, :mainForm:yieldGrid" />
        </div>

    </ui:define>

</ui:composition>
