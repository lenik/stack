\section {建立物料清单的方法}

    物料清单是 ERP 内部集成系统的主导文件，它的准确性直接影响系统的运行结果，必须认真注意维护。只有建立了物料主文件的物料才能用于物料清单。 因此，在建立物料清单之前，先要核实物料主文件，确认所有参数都是合理、正确和完整的。前导工序没有做好之前，不要急于进行后续工序；“第一次就把事情作对（Do right things and do things right at the ﬁrst time）”，这是项目管理的一条原则，是实施 ERP 系统必须遵守的。

    物料清单的建立方法与步骤如下:

\subsection {成立编制小组}

        物料清单不同于产品图纸上的零件明细表，它包罗的内容超出了设计部门的工作范围。因此，单靠一个设计部门是难以胜任的; 除设计人员外，通常还需要有工艺和生产人员，一起组成一个专门小组来完成; 小组不一定是常设机构，但应有一批固定人员，可以随时集中工作，并便于积累经验，熟练操作，保证工作的质量和延续性。

\subsection {确定原则}

        在建立物料清单之前，有一些原则要在项目经理主持下，讨论确定，并记入工作准则与工作规程中。举例如下:

        \begin{enumerate.zh}
            \item 哪些物料应包括在物料清单内

            有人问: 物资 ABC 分类中的 C 类物资是不是可以不放在物料清单里，以减少工作量。原则上，需要列入计划、计算成本的一切物料都应当包括在物料清单中，表明上看起来似乎增加一些工作量，但如果由于物料清单不完整造成管理混乱，从新整顿或延误造成的损失要大多少倍。 ABC 分类，只是帮助管理者运用重点管理法和 20-80 原则，对一个产品来讲，不论是 A、B 或 C 类物料，都是不可少的，哪怕是一个不值分文的小垫圈，产品也装不起来，出不了厂。

            物料清单作为一种企业管理文档，各个部门都要用到，但最主要是满足计划工作的需要。物料清单又是计算产品成本的基础，还要考虑成本和资金预算的需要。除了成产品的物料外，还有一些不是产品本身的物料，如工艺装备、贵重的消耗品（如特殊性能或材料的贵重焊条）、专用工具、技术文件等等，甚至制药业对药品检测用的实验小白鼠，都可以根据计划与控制的要求，确定是否列入物料清单。

            \item 划分产品结构层次的原则。

            产品结构的层次往往同工艺有关，是否有必要增加一个层次主要是为了满足制订计划与编制进度的需要有时，层次还会受库存控制和批量控制的要求的制约。对诸如外协的铸锻毛坯、合并一炉处理的热处理件、烧结工序的砂轮坯、绝缘固化不同规格的线圈等，要结合工艺路线来研究层次关系。

            在层次划分上，应按照“简单和标准（KISS：Keep It Simple Stupid）” 的原则，以利于维护，便于减少存事务处理次数和加工定单的数量。

            \item  替代物料及替代原则

            在产品结构上啄的某些物料可以有多种选择。有些是根据客户订货的要求（如客户指定拖拉机要某个厂家生产的发动机，电冰箱要迸口压缩机等);有些是受供应或库存条件的限制; 也有由于质量或成本的要求。在替代时，用量还可能有变化，要规定替代物料同原有物料的数量折算关系，要确定替代原则和方法。软件对一次性替代的物料应有简化的处理方法。

            最常见的替代情况有3种:
                \begin{itemize}
                \item 由于质量安全问题必须立即停止使用原来的物料；
                \item 由于供应问题，一种物料（A）短缺时可以临时用另一种（B）替代，一旦有了 A 物料库存，再改回来;
                \item 由于设计更改或成本原因，在用完现存的一种物料后，开始使用另一种物料。
                \end{itemize}

        \end{enumerate.zh}

\subsection {建立物料清单的顺序}

        我们知道，产品是由多个结构单元即单层物料单组成的。因此，只要建好所有单层物料单，完整的产品物料清单就会由系统自动建成。在建立时，先定义母件，然后依次录入母件所属的全部子件。如图\ref{fig:createBom}所示。

        \begin{figure}[H]
            \centering

            \begin{itemize}
                \item 从低层母件M开始，建立单层BOM \vskip 3mm

                    \begin{minipage}{18em}
                        \footnotesize 母件物料号：M（M有是X的子件）
                        \vskip 2mm
                        \begin{tabular}{c|c|c|c}
                            顺序 & 子件物料号 & 数量 & 偏置期 \\ \hline
                            1 & A & 1 & \\
                            2 & B & 2 & \\
                            3 & C & 2 & \\
                            4 & D & 4 & \\
                        \end{tabular}
                    \end{minipage}
                    \begin{minipage}{14em}
                        \centering \footnotesize
                        \begin{tikzpicture}[
                                part/.style={draw, thick, fill=white, drop shadow,
                                    inner sep=1mm },]
                            \node[part] (M) {$M$}
                                [edge from parent fork down,
                                    level distance=4em,
                                    sibling distance=4em]
                                child{node[part] {$A_{(2)}$}}
                                child{node[part] {$B_{(2)}$}}
                                child{node[part] {$C_{(2)}$}}
                                child{node[part] {$D_{(2)}$}}
                                ;
                        \end{tikzpicture}

                        其他信息由物料主文件提供 \\ （如：物料名称、成品率等）
                    \end{minipage}

                \item 最后建立顶层母件X的单层BOM \vskip 3mm

                    \begin{minipage}{21em}
                        \footnotesize  母件物料号：X
                        \vskip 2mm
                        \begin{tabular}{c|c|c|c}
                            顺序 & 子件物料号 & 数量 & 偏置期 \\ \hline
                            1 & M & 2 & \\
                            2 & N & 1 & 2 \\
                        \end{tabular}
                    \end{minipage}
                    \begin{minipage}{8em}
                        \centering \footnotesize
                        \begin{tikzpicture}[
                                part/.style={draw, thick, fill=white, drop shadow,
                                    inner sep=1mm },]
                            \node[part] (M) {$X$}
                                [edge from parent fork down,
                                    level distance=4em,
                                    sibling distance=4em]
                                child{node[part] {$M_{(2)}$}}
                                child{node[part] {$N_{(1)}$}}
                                ;
                        \end{tikzpicture}
                    \end{minipage}

            \end{itemize}
            \caption{建立物料清单} \label{fig:createBom}
        \end{figure}

        要特别注意，子件必须按实际装配的先后顺序录入。 在装配线上每个工位是按零部件装配顺序排列的，不能颠倒。也就是说，零部件 （子件）装配成组装件（母件）是有一定顺序的。此外，流水线上的工位要同货位对应，便于发送物料和统计消耗量。如图\ref{fig:techflowAndPosition}所示。

        \begin{figure}[H]
            \centering

            \begin{tikzpicture}[
                    node distance=4em,
                    part/.style={draw, thick, fill=white, drop shadow, inner sep=2mm,
                        font=\bfseries, },
                    proc/.style={draw, ellipse, inner sep=0.2mm,
                        font=\footnotesize, text width=7mm, align=center},
                    el/.style={font=\small, text height=1em},
                    loca/.style={draw, fill=white, drop shadow, inner sep=0.2mm,
                        font=\footnotesize, text width=10mm, align=center},
                    fun/.style={draw, font=\small},
                    output/.style={draw, font=\bfseries},
                    ]
                \node[part] (A) {A};
                \node[part, right of=A] (B) {B};
                \node[part, right of=B] (C) {C};
                \coordinate[right of=C, xshift=-3mm] (d);
                \node[part, right of=d, xshift=-3mm] (F) {F};
                \coordinate[right of=F, xshift=-3mm] (g);
                \node[part, right of=g, xshift=-3mm] (P) {P};
                \node[part, above of=d] (X) {X};
                    \draw[-latex] (X) |- +(0, -2em) -| (A);
                    \draw[-latex] (X) |- +(0, -2em) -| (B);
                    \draw[-latex] (X) |- +(0, -2em) -| (C);
                    \draw[-latex] (X) |- +(0, -2em) -| (F);
                    \draw[-latex] (X) |- +(0, -2em) -| (P);
                \node[proc, below of=A] (s10) {工序10};
                \node[proc, below of=B] (s20) {工序20};
                \node[proc, below of=C] (s30) {工序30};
                \node[el, below of=d] (s40) {...};
                \node[proc, below of=F] (s60) {工序60};
                \node[el, below of=g] (s70) {...};
                \node[proc, below of=P] (s90) {工序90};
                \node[output, right of=s90, xshift=3em] (out) {X};
                    \draw (A) -- (s10);
                    \draw (B) -- (s20);
                    \draw (C) -- (s30);
                    \draw (F) -- (s60);
                    \draw (P) -- (s90);
                    \draw[-latex] (s10) -- (s20);
                    \draw[-latex] (s20) -- (s30);
                    \draw[-latex] (s30) -- (s40);
                    \draw[-latex] (s40) -- (s60);
                    \draw[-latex] (s60) -- (s70);
                    \draw[-latex] (s70) -- (s90);
                    \draw[-latex, dotted] (s90) -- (out);
                \node[loca, below of=s10] (L10) {在制品货位10};
                \node[loca, below of=s20] (L20) {在制品货位20};
                \node[loca, below of=s30] (L30) {在制品货位30};
                \coordinate[loca, below of=s40] (L40);
                \node[loca, below of=s60] (L60) {在制品货位60};
                \node[loca, below of=s90] (L90) {在制品货位90};
                    \draw[-latex] (L10) -- (s10);
                    \draw[-latex] (L20) -- (s20);
                    \draw[-latex] (L30) -- (s30);
                    \draw[-latex] (L60) -- (s60);
                    \draw[-latex] (L90) -- (s90);
                \node[loca, below of=L40, inner sep=3mm] (stock) {仓库};
                    \draw[-latex] (stock) -- (L10.south);
                    \draw[-latex] (stock) -- (L20.south);
                    \draw[-latex] (stock) -- (L30.south);
                    \draw[-latex] (stock) -- (L60.south);
                    \draw[-latex] (stock) -- (L90.south);
                \node[fun, above left of=s10, anchor=east, yshift=-5mm] (cap1) {数据采集};
                \node[fun, above right of=s90, anchor=west, yshift=-5mm] (cap2) {数据采集};
                    \draw[-latex] (cap2.north west)
                            .. controls +(-2mm, 2mm) and +(2mm, 2mm)
                            .. (cap1.north east)
                        node[pos=.48, above, font=\scriptsize] {反冲};
            \end{tikzpicture}

            \caption{流水生产物料同工序及货位的关系} \label{fig:techflowAndPosition}
        \end{figure}

        在大型机械的装配过程中，产品结构同层各个部件的装配时间不一定在同一天进行，像汽轮机、轧钢机、重型机床、高压开关等，各个重大部件（物料清单中的子件）实际装配的时间可以相差几天甚至几周。

        以汽轮机为例，虽然底座、带叶片的转子和上盖在产品结构上都处于同一层，但实际并不是在同一天装配，就是说需用日期不是同一天。 这时，各件之间有一个需用时间差，通常叫做偏置期（见图 \ref{fig:timeoffset}），必须在建立物料清单时注明，这时，软件应当有设置偏置期的功能。可见，适用于一般制造业的ERP 软件产品，不一定都能适应重型机械制造行业。这就是ERP软件的行业特性又一个明显的例子。

        \begin{figure}[H]
            \centering

            \begin{tikzpicture}[
                    node distance=4em,
                    part/.style={draw, thick, fill=white, drop shadow,
                        inner sep=2mm, },
                    ]
                \node[part] (root) {组装件}
                        [edge from parent fork down]
                    child{ node[part] (bot) {底座} }
                    child{ node[part] (rot) {转子} }
                    child{ node[part] (cov) {上盖} }
                    ;
                \coordinate[below of=bot, yshift=2em] (bot1);
                \coordinate[below of=rot, yshift=2em, xshift=-1mm] (rot1);
                \coordinate[below of=rot, yshift=2em, xshift=1mm] (rot2);
                \coordinate[below of=cov, yshift=2em] (cov1);
                \draw[latex-latex] (bot1) -- (rot1) node[pos=.5, below]  (off1) {2};
                \draw[latex-latex] (rot2) -- (cov1) node[pos=.5, below] (off2) {3天};
                \node[left of=off1] {偏置期};
            \end{tikzpicture}

            \caption{同层不同时的情况} \label{fig:timeoffset}
        \end{figure}

        对医药、食品、化妆品、卷烟、玻璃、水泥这类企业，产品物料清单既有各种物料的组合，也有各种成分或原材料的配方，其编制原则同建立物料清单是一样的。但是所有属于配方类的物料清单都有阡保密要求，软件的保密权限必须允许详细到与物料有关的字段，而不能停留在文件或记录的层次。

        此外，对这类行业，软件还要有处理原料中有效成分含量的功能，不同来源、不同时期进货的原料其有效成分是不相同的。例如，中药药材、玻璃行业的石英矿石都要计算有效成分。
